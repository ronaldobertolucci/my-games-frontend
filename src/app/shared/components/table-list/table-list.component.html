<div class="table-container">
  <table>
    <thead>
      <tr>
        <th *ngFor="let column of columns()">{{ column.header }}</th>
        <th *ngIf="actions().length > 0">Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of data()" (click)="onRowClick(item)">
        <td *ngFor="let column of columns()">
          <ng-container [ngSwitch]="column.type">
            <!-- Tipo: icon-detail -->
            <div *ngSwitchCase="'icon-detail'" class="cell-with-icon">
              <div class="item-icon">{{ item[column.iconKey || 'icon'] }}</div>
              <div class="item-details">
                <div class="item-title">{{ item[column.titleKey || 'name'] }}</div>
                <div class="item-subtitle" *ngIf="column.subtitleKey && item[column.subtitleKey]">
                  {{ item[column.subtitleKey] }}
                </div>
              </div>
            </div>

            <!-- Tipo: badge -->
            <span *ngSwitchCase="'badge'" 
                  class="badge" 
                  [ngClass]="getCellClass(item, column)">
              {{ getCellValue(item, column) }}
            </span>

            <!-- Tipo: custom (permite classes dinâmicas) -->
            <span *ngSwitchCase="'custom'" 
                  [ngClass]="getCellClass(item, column)">
              {{ getCellValue(item, column) }}
            </span>

            <!-- Tipo: text (padrão) -->
            <span *ngSwitchDefault>
              {{ getCellValue(item, column) }}
            </span>
          </ng-container>
        </td>

        <!-- Ações -->
        <td *ngIf="actions().length > 0">
          <div class="actions">
            <button *ngFor="let action of actions()" 
                    class="action-button" 
                    [title]="action.label"
                    (click)="onActionClick(action, item, $event)">
              {{ action.icon }}
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>