<div class="platforms-page">
  <div class="page-header">
    <h2>Plataformas</h2>
    <button class="btn-primary" (click)="openCreateForm()">+ Nova Plataforma</button>
  </div>

  <div class="search-bar">
    <input 
      type="text" 
      class="search-input" 
      [class.search-input-active]="isFilterActive"
      placeholder="Buscar plataforma por nome..."
      [(ngModel)]="searchTerm"
      (keyup.enter)="onSearch()">
    <button class="btn-search" (click)="onSearch()">ğŸ” Buscar</button>
    <button 
      class="btn-clear" 
      *ngIf="isFilterActive"
      (click)="clearSearch()"
      title="Limpar filtro">
      âœ•
    </button>
  </div>

  <div class="loading" *ngIf="isLoading">Carregando...</div>

  <app-table-list 
    *ngIf="!isLoading"
    [columns]="columns"
    [data]="platformsData"
    [actions]="actions"
    (actionClick)="handleAction($event)">
  </app-table-list>

  <div class="pagination" *ngIf="totalPages > 1">
    <button 
      class="btn-page" 
      [disabled]="currentPage === 0"
      (click)="onPageChange(currentPage - 1)">
      â† Anterior
    </button>
    
    <span class="page-info">
      PÃ¡gina {{ currentPage + 1 }} de {{ totalPages }} 
      ({{ totalElements }} {{ isFilterActive ? 'resultado(s) encontrado(s)' : 'itens' }})
    </span>
    
    <button 
      class="btn-page" 
      [disabled]="currentPage >= totalPages - 1"
      (click)="onPageChange(currentPage + 1)">
      PrÃ³xima â†’
    </button>
  </div>

  <!-- Modal de FormulÃ¡rio -->
  <div class="modal-overlay" *ngIf="showForm" (click)="closeForm()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <app-platform-form
        [platform]="editingPlatform"
        (save)="onFormSubmit($event)"
        (cancel)="closeForm()">
      </app-platform-form>
    </div>
  </div>
</div>

<!-- Toast Notification -->
<app-toast-notification
  [message]="toastMessage"
  [type]="toastType"
  [(show)]="showToast">
</app-toast-notification>